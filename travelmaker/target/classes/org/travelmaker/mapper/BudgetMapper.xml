<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.travelmaker.mapper.BudgetMapper">

<resultMap type="org.travelmaker.domain.BudgetVO" id="UserResult">
	<result property="schno" column="sch_no"/>
	<result property="totalpay" column="total_pay"/>
	<result property="totalcnt" column="total_cnt"/>
</resultMap>

<!-- list.jsp - DB의 모든 일정과 지출 내역 출력 -->
<select id="getList" resultMap="UserResult">
<![CDATA[
select sch_no, trim(TO_CHAR(sum(expense), '999,999,999')) as total_pay, 
count(rownum) as total_cnt from bud_dt group by sch_no
]]>
</select>

</mapper>